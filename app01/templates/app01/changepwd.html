{% extends "app01/layout.html" %}
{% block title %}
    修改密码
{% endblock %}
{% block content %}
    <div class="wrap" style="width: 500px;margin: 50px auto">
    <form class="form-horizontal" action="{% url 'app01:changepwd' %}" method="post" novalidate>
        {% csrf_token %}
        <div class="form-group">
                <label for="former_pwd" class="col-sm-3 control-label">请输入旧密码:</label>
                <div class="col-sm-9">
                    <input type="password" class="form-control" id="former_pwd" name="former_pwd">
                </div>
        </div>
    <div class="form-group">
                <label for="new_pwd" class="col-sm-3 control-label">请输入新密码:</label>
                <div class="col-sm-9">
                    <input type="password" class="form-control" id="new_pwd" name="new_pwd">
                </div>
    </div>
    <div class="form-group">
                <label for="renew_pwd" class="col-sm-3 control-label">请确认新密码:</label>
                <div class="col-sm-9">
                    <input type="password" class="form-control" id="renew_pwd">
                </div>
              <span style="color: red" id="error">{{ msg }}</span>
    </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" class="btn btn-success">提交</button>
            </div>
        </div>
    </form>
    </div>
{% endblock %}
{% block js %}
    <script>
        $("#renew_pwd").blur(function (){
            var renew_pwd=$("#renew_pwd").val()
            var new_pwd=$("#new_pwd").val()
            if(renew_pwd != new_pwd){
                $("#error").text("密码前后不一致！！！")
                $("button[type='submit']").attr('disabled',true);
            }else{
                $("#error").text("")
                $("button[type='submit']").attr('disabled',false);
            }
        })
    </script>
{% endblock %}